<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Bibliographic Records from OpenAlex Database Using DSL API ‚Ä¢ openalexR</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Getting Bibliographic Records from OpenAlex Database Using DSL API">
<meta name="description" content="A set of tools to extract bibliographic content from OpenAlex database using API &lt;https://docs.openalex.org&gt;.">
<meta property="og:description" content="A set of tools to extract bibliographic content from OpenAlex database using API &lt;https://docs.openalex.org&gt;.">
<meta property="og:image" content="https://docs.ropensci.org/openalexR/logo.png">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">openalexR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/A_Brief_Introduction_to_openalexR.html">A Brief Introduction to openalexR</a></li>
    <li><a class="dropdown-item" href="articles/About-the-tibble-output.html">About the tibble output</a></li>
    <li><a class="dropdown-item" href="articles/Filters.html">Filters</a></li>
    <li><a class="dropdown-item" href="articles/institution.html">Transition towards Open Access</a></li>
    <li><a class="dropdown-item" href="articles/literature-search.html">Literature search</a></li>
    <li><a class="dropdown-item" href="articles/performance-optimization.html">Performance and optimization</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/openalexR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="openalexr-">openalexR <a class="anchor" aria-label="anchor" href="#openalexr-"></a>
</h1>
</div>
<!-- badges: start -->

<!-- badges: end -->
<p><strong>openalexR</strong> helps you interface with the <a href="https://openalex.org" class="external-link">OpenAlex</a> API to retrieve bibliographic information about publications, authors, institutions, sources, funders, publishers, topics and concepts with 5 main functions:</p>
<ul>
<li><p><code>oa_fetch</code>: composes three functions below so the user can execute everything in one step, <em>i.e.</em>, <code>oa_query |&gt; oa_request |&gt; oa2df</code></p></li>
<li><p><code>oa_query</code>: generates a valid query, written following the OpenAlex API syntax, from a set of arguments provided by the user.</p></li>
<li><p><code>oa_request</code>: downloads a collection of entities matching the query created by <code>oa_query</code> or manually written by the user, and returns a JSON object in a list format.</p></li>
<li><p><code>oa2df</code>: converts the JSON object in classical bibliographic tibble/data frame.</p></li>
<li><p><code>oa_random</code>: get random entity, <em>e.g.</em>, <code>oa_random("works")</code> gives a different work each time you run it</p></li>
</ul>
<div class="section level2">
<h2 id="scroll-citation">üìú Citation<a class="anchor" aria-label="anchor" href="#scroll-citation"></a>
</h2>
<p>If you use openalexR in research, please cite:</p>
<p>Aria, M., Le T., Cuccurullo, C., Belfiore, A. &amp; Choe, J. (2024), <em>openalexR: An R-Tool for Collecting Bibliometric Data from OpenAlex</em>, <strong>The R Journal</strong>, 15(4), 167-180, DOI: <a href="https://doi.org/10.32614/RJ-2023-089" class="external-link uri">https://doi.org/10.32614/RJ-2023-089</a>.</p>
</div>
<div class="section level2">
<h2 id="raised_hands-support-openalex">üôå Support OpenAlex<a class="anchor" aria-label="anchor" href="#raised_hands-support-openalex"></a>
</h2>
<p>If OpenAlex has helped you, consider writing a <a href="https://forms.monday.com/forms/4d5ad5a8e6a72ae31987a29118f1d437?r=use1" class="external-link">Testimonial</a> which will help support the OpenAlex team and show that their work is making a <em>real and necessary</em> impact.</p>
</div>
<div class="section level2">
<h2 id="gear-setup">‚öôÔ∏è Setup<a class="anchor" aria-label="anchor" href="#gear-setup"></a>
</h2>
<p>You can install the developer version of openalexR from <a href="https://github.com" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropensci/openalexR"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the released version of openalexR from <a href="https://CRAN.R-project.org" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"openalexR"</span><span class="op">)</span></span></code></pre></div>
<p>Before we go any further, we highly recommend you set <code>openalexR.mailto</code> option so that your requests go to <a href="https://docs.openalex.org/how-to-use-the-api/rate-limits-and-authentication#the-polite-pool" class="external-link">the polite pool</a> for faster response times. If you have OpenAlex Premium, you can add your API key to the <code>openalexR.apikey</code> option as well. These lines best go into <code>.Rprofile</code> with <code>file.edit("~/.Rprofile")</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>openalexR.mailto <span class="op">=</span> <span class="st">"example@email.com"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>openalexR.apikey <span class="op">=</span> <span class="st">"EXAMPLE_APIKEY"</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can open <code>.Renviron</code> with <code>file.edit("~/.Renviron")</code> and add:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>openalexR.mailto <span class="ot">=</span> example<span class="sc">@</span>email.com</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>openalexR.apikey <span class="ot">=</span> EXAMPLE_APIKEY</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/openalexR">openalexR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="herb-examples">üåø Examples<a class="anchor" aria-label="anchor" href="#herb-examples"></a>
</h2>
<p>There are different <a href="https://ropensci.github.io/openalexR/articles/Filters" class="external-link">filters</a>/arguments you can use in <code>oa_fetch</code>, depending on which <a href="https://docs.openalex.org/#data" class="external-link">entity</a> you‚Äôre interested in: works, authors, sources, funders, institutions, or concepts. We show a few examples below.</p>
<div class="section level3">
<h3 id="books-works">üìö Works<a class="anchor" aria-label="anchor" href="#books-works"></a>
</h3>
<p><strong>Goal</strong>: Download all information about a givens set of publications (known DOIs).</p>
<p>Use <code>doi</code> as a <a href="https://ropensci.github.io/openalexR/articles/Filters.html#works" class="external-link">works filter</a>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">works_from_dois</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_fetch.html">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"works"</span>,</span>
<span>  doi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"10.1016/j.joi.2017.08.007"</span>, <span class="st">"https://doi.org/10.1007/s11192-013-1221-3"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Requesting url: https://api.openalex.org/works?filter=doi%3A10.1016%2Fj.joi.2017.08.007%7Chttps%3A%2F%2Fdoi.org%2F10.1007%2Fs11192-013-1221-3</span></span>
<span><span class="co">#&gt; Getting 1 page of results with a total of 2 records...</span></span></code></pre></div>
<p>We can view the output tibble/dataframe, <code>works_from_dois</code>, interactively in RStudio or inspect it with base functions like <code>str</code> or <code>head</code>. We also provide the experimental <code>show_works</code> function to simplify the result (e.g., remove some columns, keep first/last author) for easy viewing.</p>
<p><em>Note</em>: the following table is wrapped in <code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">knitr::kable()</a></code> to be displayed nicely in this README, but you will most likely not need this function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># str(works_from_dois, max.level = 2)</span></span>
<span><span class="co"># head(works_from_dois)</span></span>
<span><span class="co"># show_works(works_from_dois)</span></span>
<span></span>
<span><span class="va">works_from_dois</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/show_works.html">show_works</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="5%">
<col width="30%">
<col width="7%">
<col width="8%">
<col width="10%">
<col width="18%">
<col width="2%">
<col width="16%">
</colgroup>
<thead><tr>
<th align="left">id</th>
<th align="left">display_name</th>
<th align="left">first_author</th>
<th align="left">last_author</th>
<th align="left">so</th>
<th align="left">url</th>
<th align="left">is_oa</th>
<th align="left">top_concepts</th>
</tr></thead>
<tbody>
<tr>
<td align="left">W2755950973</td>
<td align="left">bibliometrix : An R-tool for comprehensive science mapping analysis</td>
<td align="left">Massimo Aria</td>
<td align="left">Corrado Cuccurullo</td>
<td align="left">Journal of Informetrics</td>
<td align="left"><a href="https://doi.org/10.1016/j.joi.2017.08.007" class="external-link uri">https://doi.org/10.1016/j.joi.2017.08.007</a></td>
<td align="left">FALSE</td>
<td align="left">Workflow, Bibliometrics, Software</td>
</tr>
<tr>
<td align="left">W2038196424</td>
<td align="left">Coverage and adoption of altmetrics sources in the bibliometric community</td>
<td align="left">Stefanie Haustein</td>
<td align="left">Jens Terliesner</td>
<td align="left">Scientometrics</td>
<td align="left"><a href="https://doi.org/10.1007/s11192-013-1221-3" class="external-link uri">https://doi.org/10.1007/s11192-013-1221-3</a></td>
<td align="left">FALSE</td>
<td align="left">Altmetrics, Bookmarking, Social media</td>
</tr>
</tbody>
</table>
<p><strong>Goal</strong>: Download all works given their PMIDs.</p>
<p>Use <code>pmid</code> as a filter:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">works_from_pmids</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_fetch.html">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"works"</span>,</span>
<span>  pmid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"14907713"</span>, <span class="fl">32572199</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Requesting url: https://api.openalex.org/works?filter=pmid%3A14907713%7C32572199</span></span>
<span><span class="co">#&gt; Getting 1 page of results with a total of 2 records...</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">works_from_pmids</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/show_works.html">show_works</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="5%">
<col width="33%">
<col width="6%">
<col width="6%">
<col width="13%">
<col width="19%">
<col width="2%">
<col width="12%">
</colgroup>
<thead><tr>
<th align="left">id</th>
<th align="left">display_name</th>
<th align="left">first_author</th>
<th align="left">last_author</th>
<th align="left">so</th>
<th align="left">url</th>
<th align="left">is_oa</th>
<th align="left">top_concepts</th>
</tr></thead>
<tbody>
<tr>
<td align="left">W1775749144</td>
<td align="left">PROTEIN MEASUREMENT WITH THE FOLIN PHENOL REAGENT</td>
<td align="left">Oliver H. Lowry</td>
<td align="left">ROSE J. RANDALL</td>
<td align="left">Journal of Biological Chemistry</td>
<td align="left"><a href="https://doi.org/10.1016/s0021-9258(19)52451-6" class="external-link uri">https://doi.org/10.1016/s0021-9258(19)52451-6</a></td>
<td align="left">TRUE</td>
<td align="left">Reagent, Phenol</td>
</tr>
<tr>
<td align="left">W3036882247</td>
<td align="left">Integrating spatial gene expression and breast tumour morphology via deep learning</td>
<td align="left">Bryan He</td>
<td align="left">James Zou</td>
<td align="left">Nature Biomedical Engineering</td>
<td align="left"><a href="https://doi.org/10.1038/s41551-020-0578-x" class="external-link uri">https://doi.org/10.1038/s41551-020-0578-x</a></td>
<td align="left">FALSE</td>
<td align="left">Histopathology, Gene, Cancer</td>
</tr>
</tbody>
</table>
<p><strong>Goal</strong>: Download all works published by a set of authors (known ORCIDs).</p>
<p>Use <code>author.orcid</code> as a filter (either canonical form with <a href="https://orcid.org/" class="external-link uri">https://orcid.org/</a> or without will work):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">works_from_orcids</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_fetch.html">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"works"</span>,</span>
<span>  author.orcid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0000-0001-6187-6610"</span>, <span class="st">"0000-0002-8517-9411"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Requesting url: https://api.openalex.org/works?filter=author.orcid%3A0000-0001-6187-6610%7C0000-0002-8517-9411</span></span>
<span><span class="co">#&gt; Getting 2 pages of results with a total of 259 records...</span></span>
<span><span class="co">#&gt; Warning in oa_request(oa_query(filter = filter_i, multiple_id = multiple_id, : </span></span>
<span><span class="co">#&gt; The following work(s) have truncated lists of authors: W4230863633.</span></span>
<span><span class="co">#&gt; Query each work separately by its identifier to get full list of authors.</span></span>
<span><span class="co">#&gt; For example:</span></span>
<span><span class="co">#&gt;   lapply(c("W4230863633"), \(x) oa_fetch(identifier = x))</span></span>
<span><span class="co">#&gt; Details at https://docs.openalex.org/api-entities/authors/limitations.</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">works_from_orcids</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/show_works.html">show_works</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="30%">
<col width="5%">
<col width="6%">
<col width="8%">
<col width="25%">
<col width="2%">
<col width="16%">
</colgroup>
<thead><tr>
<th align="left">id</th>
<th align="left">display_name</th>
<th align="left">first_author</th>
<th align="left">last_author</th>
<th align="left">so</th>
<th align="left">url</th>
<th align="left">is_oa</th>
<th align="left">top_concepts</th>
</tr></thead>
<tbody>
<tr>
<td align="left">W2755950973</td>
<td align="left">bibliometrix : An R-tool for comprehensive science mapping analysis</td>
<td align="left">Massimo Aria</td>
<td align="left">Corrado Cuccurullo</td>
<td align="left">Journal of Informetrics</td>
<td align="left"><a href="https://doi.org/10.1016/j.joi.2017.08.007" class="external-link uri">https://doi.org/10.1016/j.joi.2017.08.007</a></td>
<td align="left">FALSE</td>
<td align="left">Workflow, Bibliometrics, Software</td>
</tr>
<tr>
<td align="left">W2741809807</td>
<td align="left">The state of OA: a large-scale analysis of the prevalence and impact of Open Access articles</td>
<td align="left">Heather Piwowar</td>
<td align="left">Stefanie Haustein</td>
<td align="left">PeerJ</td>
<td align="left"><a href="https://doi.org/10.7717/peerj.4375" class="external-link uri">https://doi.org/10.7717/peerj.4375</a></td>
<td align="left">TRUE</td>
<td align="left">Citation, License, Bibliometrics</td>
</tr>
<tr>
<td align="left">W2122130843</td>
<td align="left">Scientometrics 2.0: New metrics of scholarly impact on the social Web</td>
<td align="left">Jason Priem</td>
<td align="left">Bradely H. Hemminger</td>
<td align="left">First Monday</td>
<td align="left"><a href="https://doi.org/10.5210/fm.v15i7.2874" class="external-link uri">https://doi.org/10.5210/fm.v15i7.2874</a></td>
<td align="left">FALSE</td>
<td align="left">Bookmarking, Altmetrics, Social media</td>
</tr>
<tr>
<td align="left">W1553564559</td>
<td align="left">Altmetrics in the wild: Using social media to explore scholarly impact</td>
<td align="left">Jason Priem</td>
<td align="left">Bradley M. Hemminger</td>
<td align="left">arXiv (Cornell University)</td>
<td align="left"><a href="https://arxiv.org/abs/1203.4745" class="external-link uri">https://arxiv.org/abs/1203.4745</a></td>
<td align="left">TRUE</td>
<td align="left">Altmetrics, Social media, Citation</td>
</tr>
<tr>
<td align="left">W3005144120</td>
<td align="left">Mapping the Evolution of Social Research and Data Science on 30 Years of Social Indicators Research</td>
<td align="left">Massimo Aria</td>
<td align="left">Maria Spano</td>
<td align="left">Social Indicators Research</td>
<td align="left"><a href="https://doi.org/10.1007/s11205-020-02281-3" class="external-link uri">https://doi.org/10.1007/s11205-020-02281-3</a></td>
<td align="left">FALSE</td>
<td align="left">Human geography, Data collection, Position (finance)</td>
</tr>
<tr>
<td align="left">W3130540911</td>
<td align="left">altmetrics: a manifesto</td>
<td align="left">Jason Priem</td>
<td align="left">Cameron Neylon</td>
<td align="left">NA</td>
<td align="left"><a href="https://digitalcommons.unl.edu/cgi/viewcontent.cgi?article=1187&amp;context=scholcom" class="external-link uri">https://digitalcommons.unl.edu/cgi/viewcontent.cgi?article=1187&amp;context=scholcom</a></td>
<td align="left">FALSE</td>
<td align="left">Altmetrics, Manifesto</td>
</tr>
</tbody>
</table>
<p><strong>Goal</strong>: Download all works that have been cited more than 50 times, published between 2020 and 2021, and include the strings ‚Äúbibliometric analysis‚Äù or ‚Äúscience mapping‚Äù in the title. Maybe we also want the results to be sorted by total citations in a descending order.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">works_search</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_fetch.html">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"works"</span>,</span>
<span>  title.search <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bibliometric analysis"</span>, <span class="st">"science mapping"</span><span class="op">)</span>,</span>
<span>  cited_by_count <span class="op">=</span> <span class="st">"&gt;50"</span>,</span>
<span>  from_publication_date <span class="op">=</span> <span class="st">"2020-01-01"</span>,</span>
<span>  to_publication_date <span class="op">=</span> <span class="st">"2021-12-31"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sort <span class="op">=</span> <span class="st">"cited_by_count:desc"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Requesting url: https://api.openalex.org/works?filter=title.search%3Abibliometric%20analysis%7Cscience%20mapping%2Ccited_by_count%3A%3E50%2Cfrom_publication_date%3A2020-01-01%2Cto_publication_date%3A2021-12-31&amp;sort=cited_by_count%3Adesc</span></span>
<span><span class="co">#&gt; Getting 2 pages of results with a total of 372 records...</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">works_search</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/show_works.html">show_works</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="38%">
<col width="5%">
<col width="5%">
<col width="13%">
<col width="13%">
<col width="1%">
<col width="17%">
</colgroup>
<thead><tr>
<th align="left">id</th>
<th align="left">display_name</th>
<th align="left">first_author</th>
<th align="left">last_author</th>
<th align="left">so</th>
<th align="left">url</th>
<th align="left">is_oa</th>
<th align="left">top_concepts</th>
</tr></thead>
<tbody>
<tr>
<td align="left">W3160856016</td>
<td align="left">How to conduct a bibliometric analysis: An overview and guidelines</td>
<td align="left">Naveen Donthu</td>
<td align="left">Weng Marc Lim</td>
<td align="left">Journal of Business Research</td>
<td align="left"><a href="https://doi.org/10.1016/j.jbusres.2021.04.070" class="external-link uri">https://doi.org/10.1016/j.jbusres.2021.04.070</a></td>
<td align="left">TRUE</td>
<td align="left">Bibliometrics, Field (mathematics), Resource (disambiguation)</td>
</tr>
<tr>
<td align="left">W3001491100</td>
<td align="left">Software tools for conducting bibliometric analysis in science: An up-to-date review</td>
<td align="left">Jos√© A. Moral-Mu√±oz</td>
<td align="left">Manuel J. Cobo</td>
<td align="left">El Profesional de la Informacion</td>
<td align="left"><a href="https://doi.org/10.3145/epi.2020.ene.03" class="external-link uri">https://doi.org/10.3145/epi.2020.ene.03</a></td>
<td align="left">TRUE</td>
<td align="left">Bibliometrics, Visualization, Set (abstract data type)</td>
</tr>
<tr>
<td align="left">W3038273726</td>
<td align="left">Investigating the emerging COVID-19 research trends in the field of business and management: A bibliometric analysis approach</td>
<td align="left">Surabhi Verma</td>
<td align="left">Anders Gustafsson</td>
<td align="left">Journal of Business Research</td>
<td align="left"><a href="https://doi.org/10.1016/j.jbusres.2020.06.057" class="external-link uri">https://doi.org/10.1016/j.jbusres.2020.06.057</a></td>
<td align="left">TRUE</td>
<td align="left">Bibliometrics, Field (mathematics), Empirical research</td>
</tr>
<tr>
<td align="left">W3044902155</td>
<td align="left">Financial literacy: A systematic review and bibliometric analysis</td>
<td align="left">Kirti Goyal</td>
<td align="left">Satish Kumar</td>
<td align="left">International Journal of Consumer Studies</td>
<td align="left"><a href="https://doi.org/10.1111/ijcs.12605" class="external-link uri">https://doi.org/10.1111/ijcs.12605</a></td>
<td align="left">FALSE</td>
<td align="left">Financial literacy, Content analysis, Citation</td>
</tr>
<tr>
<td align="left">W3042215340</td>
<td align="left">A bibliometric analysis using VOSviewer of publications on COVID-19</td>
<td align="left">Yuetian Yu</td>
<td align="left">Erzhen Chen</td>
<td align="left">Annals of Translational Medicine</td>
<td align="left"><a href="https://doi.org/10.21037/atm-20-4235" class="external-link uri">https://doi.org/10.21037/atm-20-4235</a></td>
<td align="left">TRUE</td>
<td align="left">Citation, Bibliometrics, China</td>
</tr>
<tr>
<td align="left">W3198357836</td>
<td align="left">Artificial intelligence and machine learning in finance: Identifying foundations, themes, and research clusters from bibliometric analysis</td>
<td align="left">John W. Goodell</td>
<td align="left">Debidutta Pattnaik</td>
<td align="left">Journal of Behavioral and Experimental Finance</td>
<td align="left"><a href="https://doi.org/10.1016/j.jbef.2021.100577" class="external-link uri">https://doi.org/10.1016/j.jbef.2021.100577</a></td>
<td align="left">FALSE</td>
<td align="left">Scholarship, Valuation (finance), Corporate finance</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="adult-authors">üßë Authors<a class="anchor" aria-label="anchor" href="#adult-authors"></a>
</h3>
<p><strong>Goal</strong>: Download author information when we know their ORCID.</p>
<p>Here, instead of <code>author.orcid</code> like earlier, we have to use <code>orcid</code> as an argument. This may be a little confusing, but again, a different entity (<strong>authors</strong> instead of <strong>works</strong>) requires a <a href="https://ropensci.github.io/openalexR/articles/Filters.html#authors" class="external-link">different set of filters</a>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">authors_from_orcids</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_fetch.html">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"authors"</span>,</span>
<span>  orcid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0000-0001-6187-6610"</span>, <span class="st">"0000-0002-8517-9411"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">authors_from_orcids</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/show_authors.html">show_authors</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="7%">
<col width="11%">
<col width="6%">
<col width="8%">
<col width="18%">
<col width="40%">
</colgroup>
<thead><tr>
<th align="left">id</th>
<th align="left">display_name</th>
<th align="left">orcid</th>
<th align="right">works_count</th>
<th align="right">cited_by_count</th>
<th align="left">affiliation_display_name</th>
<th align="left">top_concepts</th>
</tr></thead>
<tbody>
<tr>
<td align="left">A5069892096</td>
<td align="left">Massimo Aria</td>
<td align="left">0000-0002-8517-9411</td>
<td align="right">197</td>
<td align="right">10881</td>
<td align="left">University of Naples Federico II</td>
<td align="left">Physiology, Pathology and Forensic Medicine, Periodontics</td>
</tr>
<tr>
<td align="left">A5023888391</td>
<td align="left">Jason Priem</td>
<td align="left">0000-0001-6187-6610</td>
<td align="right">62</td>
<td align="right">3673</td>
<td align="left">OurResearch</td>
<td align="left">Statistics, Probability and Uncertainty, Information Systems, Communication</td>
</tr>
</tbody>
</table>
<p><strong>Goal</strong>: Acquire information on the authors of this package.</p>
<p>We can use other filters such as <code>display_name</code> and <code>has_orcid</code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">authors_from_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_fetch.html">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"authors"</span>,</span>
<span>  display_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Massimo Aria"</span>, <span class="st">"Jason Priem"</span><span class="op">)</span>,</span>
<span>  has_orcid <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">authors_from_names</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/show_authors.html">show_authors</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="7%">
<col width="11%">
<col width="6%">
<col width="8%">
<col width="18%">
<col width="40%">
</colgroup>
<thead><tr>
<th align="left">id</th>
<th align="left">display_name</th>
<th align="left">orcid</th>
<th align="right">works_count</th>
<th align="right">cited_by_count</th>
<th align="left">affiliation_display_name</th>
<th align="left">top_concepts</th>
</tr></thead>
<tbody>
<tr>
<td align="left">A5069892096</td>
<td align="left">Massimo Aria</td>
<td align="left">0000-0002-8517-9411</td>
<td align="right">197</td>
<td align="right">10881</td>
<td align="left">University of Naples Federico II</td>
<td align="left">Physiology, Pathology and Forensic Medicine, Periodontics</td>
</tr>
<tr>
<td align="left">A5023888391</td>
<td align="left">Jason Priem</td>
<td align="left">0000-0001-6187-6610</td>
<td align="right">62</td>
<td align="right">3673</td>
<td align="left">OurResearch</td>
<td align="left">Statistics, Probability and Uncertainty, Information Systems, Communication</td>
</tr>
</tbody>
</table>
<p><strong>Goal</strong>: Download all authors‚Äô records of scholars who work at the <a href="https://explore.openalex.org/institutions/I71267560" class="external-link">University of Naples Federico II</a> (OpenAlex ID: I71267560) and have published at least 500 publications.</p>
<p>Let‚Äôs first check how many records match the query, then download the entire collection. We can do this by first defining a list of arguments, then adding <code>count_only</code> (default <code>FALSE</code>) to this list:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_arguments</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"authors"</span>,</span>
<span>  last_known_institutions.id <span class="op">=</span> <span class="st">"I71267560"</span>,</span>
<span>  works_count <span class="op">=</span> <span class="st">"&gt;499"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">oa_fetch</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">my_arguments</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>count_only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      count db_response_time_ms page per_page</span></span>
<span><span class="co">#&gt; [1,]    44                  81    1        1</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">oa_fetch</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">my_arguments</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>count_only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span><span class="op">{</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">oa_fetch</span>, <span class="va">my_arguments</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/show_authors.html">show_authors</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `display_name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `display_name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `display_name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `display_name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `display_name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `name`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `display_name`.</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="5%">
<col width="10%">
<col width="9%">
<col width="5%">
<col width="7%">
<col width="15%">
<col width="45%">
</colgroup>
<thead><tr>
<th align="left">id</th>
<th align="left">display_name</th>
<th align="left">orcid</th>
<th align="right">works_count</th>
<th align="right">cited_by_count</th>
<th align="left">affiliation_display_name</th>
<th align="left">top_concepts</th>
</tr></thead>
<tbody>
<tr>
<td align="left">A5106552509</td>
<td align="left">C. Sciacca</td>
<td align="left">0000-0002-8412-4072</td>
<td align="right">3803</td>
<td align="right">140341</td>
<td align="left">INFN Sezione di Napoli</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A5091797706</td>
<td align="left">L. Lista</td>
<td align="left">0000-0001-6471-5492</td>
<td align="right">3730</td>
<td align="right">162016</td>
<td align="left">INFN Sezione di Napoli</td>
<td align="left">Nuclear and High Energy Physics, Nuclear and High Energy Physics, Nuclear and High Energy Physics</td>
</tr>
<tr>
<td align="left">A5003544129</td>
<td align="left">Annamaria Colao</td>
<td align="left">0000-0001-6986-266X</td>
<td align="right">1305</td>
<td align="right">44071</td>
<td align="left">University of Naples Federico II</td>
<td align="left">Endocrinology, Diabetes and Metabolism, Endocrinology, Diabetes and Metabolism, Surgery</td>
</tr>
<tr>
<td align="left">A5106315809</td>
<td align="left">M. Merola</td>
<td align="left">0000-0002-7082-8108</td>
<td align="right">1194</td>
<td align="right">66583</td>
<td align="left">INFN Sezione di Napoli</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A5026402548</td>
<td align="left">Gabriella Fabbrocini</td>
<td align="left">0000-0002-0064-1874</td>
<td align="right">992</td>
<td align="right">16411</td>
<td align="left">University of Naples Federico II</td>
<td align="left">Dermatology, Immunology, Dermatology</td>
</tr>
<tr>
<td align="left">A5064690950</td>
<td align="left">R. De Rosa</td>
<td align="left">0000-0002-4004-947X</td>
<td align="right">915</td>
<td align="right">89676</td>
<td align="left">University of Naples Federico II</td>
<td align="left">Astronomy and Astrophysics, Ocean Engineering, Astronomy and Astrophysics</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="cherries-example-analyses">üçí Example analyses<a class="anchor" aria-label="anchor" href="#cherries-example-analyses"></a>
</h2>
<p><strong>Goal</strong>: track the popularity of <em>Biology</em> concepts over time.</p>
<p>We first download the records of all level-1 concepts/keywords that concern over one million works:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yutannihilation.github.io/gghighlight/" class="external-link">gghighlight</a></span><span class="op">)</span></span>
<span><span class="va">concept_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_fetch.html">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"concepts"</span>,</span>
<span>  level <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  ancestors.id <span class="op">=</span> <span class="st">"https://openalex.org/C86803240"</span>, <span class="co"># Biology</span></span>
<span>  works_count <span class="op">=</span> <span class="st">"&gt;1000000"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">concept_df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">display_name</span>, <span class="va">counts_by_year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">counts_by_year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&lt;</span> <span class="fl">2022</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">works_count</span>, color <span class="op">=</span> <span class="va">display_name</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">display_name</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="st">"Works count"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Virology spiked in 2020."</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">gghighlight</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">works_count</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">200000</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">works_count</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">400000</span>,</span>
<span>    label_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>nudge_y <span class="op">=</span> <span class="fl">10</span><span class="op">^</span><span class="fl">5</span>, segment.color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; label_key: display_name</span></span></code></pre></div>
<p><img src="reference/figures/README-biological-concepts-1.png" width="100%"></p>
<p><strong>Goal</strong>: Rank institutions in Italy by total number of citations.</p>
<p>We want download all records regarding Italian institutions (country_code:it) that are classified as educational (type:education). Again, we check how many records match the query then download the collection:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">italy_insts</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_fetch.html">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"institutions"</span>,</span>
<span>  country_code <span class="op">=</span> <span class="st">"it"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"education"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Requesting url: https://api.openalex.org/institutions?filter=country_code%3Ait%2Ctype%3Aeducation</span></span>
<span><span class="co">#&gt; Getting 2 pages of results with a total of 232 records...</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">italy_insts</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span><span class="va">cited_by_count</span>, n <span class="op">=</span> <span class="fl">8</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>display_name <span class="op">=</span> <span class="fu">forcats</span><span class="fu">::</span><span class="fu">fct_reorder</span><span class="op">(</span><span class="va">display_name</span>, <span class="va">cited_by_count</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">cited_by_count</span>, y <span class="op">=</span> <span class="va">display_name</span>, fill <span class="op">=</span> <span class="va">display_name</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_fill_viridis_d</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"E"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Total citations"</span>, y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Italian references"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-italy-insts-1.png" width="100%"></p>
<p>And what do they publish on?</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The package wordcloud needs to be installed to run this chunk</span></span>
<span><span class="co"># library(wordcloud)</span></span>
<span><span class="va">concept_cloud</span> <span class="op">&lt;-</span> <span class="va">italy_insts</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span>inst_id <span class="op">=</span> <span class="va">id</span>, <span class="va">topics</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">topics</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"field"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">display_name</span>, <span class="va">count</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">display_name</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html" class="external-link">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu">wordcloud</span><span class="fu">::</span><span class="fu">wordcloud</span><span class="op">(</span></span>
<span>  <span class="va">concept_cloud</span><span class="op">$</span><span class="va">display_name</span>,</span>
<span>  <span class="va">concept_cloud</span><span class="op">$</span><span class="va">score</span>,</span>
<span>  scale <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">.4</span><span class="op">)</span>,</span>
<span>  colors <span class="op">=</span> <span class="va">pal</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-concept-cloud-1.png" width="100%"></p>
<p><strong>Goal</strong>: Visualize big journals‚Äô topics.</p>
<p>We first download all records regarding journals that have published more than 300,000 works, then visualize their scored concepts:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The package ggtext needs to be installed to run this chunk</span></span>
<span><span class="co"># library(ggtext)</span></span>
<span><span class="va">jours_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_fetch.html">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"sources"</span>,</span>
<span>  works_count <span class="op">=</span> <span class="st">"&gt;200000"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">clean_journal_name</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"\\(.*?\\)"</span>, <span class="st">""</span>, x <span class="op">=</span> <span class="va">_</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"Journal of the|Journal of"</span>, <span class="st">"J."</span>, x <span class="op">=</span> <span class="va">_</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"/.*"</span>, <span class="st">""</span>, x <span class="op">=</span> <span class="va">_</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">jours</span> <span class="op">&lt;-</span> <span class="va">jours_all</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"journal"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span><span class="va">cited_by_count</span>, n <span class="op">=</span> <span class="fl">9</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="va">display_name</span>, .keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span>jour <span class="op">=</span> <span class="va">display_name</span>, <span class="va">topics</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">topics</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"field"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">jour</span>, <span class="va">display_name</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>score <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">3</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">concept_abbrev</span>, by <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html" class="external-link">join_by</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">display_name</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    abbreviation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">" "</span>, <span class="st">"&lt;br&gt;"</span>, <span class="va">abbreviation</span><span class="op">)</span>,</span>
<span>    jour <span class="op">=</span> <span class="fu">clean_journal_name</span><span class="op">(</span><span class="va">jour</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">complete</a></span><span class="op">(</span><span class="va">jour</span>, <span class="va">abbreviation</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>score <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">jour</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    color <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="va">score</span> <span class="op">&gt;</span> <span class="fl">10</span>, <span class="st">"#1A1A1A"</span>, <span class="st">"#D9D9D9"</span><span class="op">)</span>, <span class="co"># CCCCCC</span></span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"&lt;span style='color:"</span>, <span class="va">color</span>, <span class="st">"'&gt;"</span>, <span class="va">abbreviation</span>, <span class="st">"&lt;/span&gt;"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jours</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">jour</span>, y <span class="op">=</span> <span class="va">score</span>, x <span class="op">=</span> <span class="va">abbreviation</span>, group <span class="op">=</span> <span class="va">jour</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">jour</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">50</span><span class="op">)</span>, colour <span class="op">=</span> <span class="st">"grey90"</span>, linewidth <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html" class="external-link">geom_segment</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">abbreviation</span>, xend <span class="op">=</span> <span class="va">abbreviation</span>, y <span class="op">=</span> <span class="fl">0</span>, yend <span class="op">=</span> <span class="fl">55</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"grey95"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"grey20"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html" class="external-link">coord_polar</a></span><span class="op">(</span>clip <span class="op">=</span> <span class="st">"off"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"transparent"</span>, colour <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    panel.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"transparent"</span>, colour <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    panel.grid <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.border <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.ticks.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggtext</span><span class="fu">::</span><span class="fu">geom_richtext</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fl">75</span>, label <span class="op">=</span> <span class="va">label</span><span class="op">)</span>,</span>
<span>    fill <span class="op">=</span> <span class="cn">NA</span>, label.color <span class="op">=</span> <span class="cn">NA</span>, size <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set1"</span>, guide <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span>, x <span class="op">=</span> <span class="cn">NULL</span>, title <span class="op">=</span> <span class="st">"Journal clocks"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-big-journals-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="snowflake-snowball-search">‚ùÑÔ∏è Snowball search<a class="anchor" aria-label="anchor" href="#snowflake-snowball-search"></a>
</h2>
<p>The user can also perform <em>snowballing</em> with <code>oa_snowball</code>. Snowballing is a literature search technique where the researcher starts with a set of articles and find articles that cite or were cited by the original set. <code>oa_snowball</code> returns a list of 2 elements: <em>nodes</em> and <em>edges</em>. Similar to <code>oa_fetch</code>, <code>oa_snowball</code> finds and returns information on a core set of articles satisfying certain criteria, but, unlike <code>oa_fetch</code>, it also returns information the articles that cite and are cited by this core set.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The packages ggraph and tidygraph need to be installed to run this chunk</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggraph.data-imaginist.com" class="external-link">ggraph</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidygraph.data-imaginist.com" class="external-link">tidygraph</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'tidygraph'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">snowball_docs</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_snowball.html">oa_snowball</a></span><span class="op">(</span></span>
<span>  identifier <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"W1964141474"</span>, <span class="st">"W1963991285"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Requesting url: https://api.openalex.org/works?filter=openalex%3AW1964141474%7CW1963991285</span></span>
<span><span class="co">#&gt; Getting 1 page of results with a total of 2 records...</span></span>
<span><span class="co">#&gt; Collecting all documents citing the target papers...</span></span>
<span><span class="co">#&gt; Requesting url: https://api.openalex.org/works?filter=cites%3AW1963991285%7CW1964141474</span></span>
<span><span class="co">#&gt; Getting 3 pages of results with a total of 593 records...</span></span>
<span><span class="co">#&gt; Collecting all documents cited by the target papers...</span></span>
<span><span class="co">#&gt; Requesting url: https://api.openalex.org/works?filter=cited_by%3AW1963991285%7CW1964141474</span></span>
<span><span class="co">#&gt; Getting 1 page of results with a total of 94 records...</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggraph</span><span class="op">(</span>graph <span class="op">=</span> <span class="fu">as_tbl_graph</span><span class="op">(</span><span class="va">snowball_docs</span><span class="op">)</span>, layout <span class="op">=</span> <span class="st">"stress"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_edge_link</span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">after_stat</a></span><span class="op">(</span><span class="va">index</span><span class="op">)</span><span class="op">)</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_node_point</span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">oa_input</span>, size <span class="op">=</span> <span class="va">cited_by_count</span><span class="op">)</span>, shape <span class="op">=</span> <span class="fl">21</span>, color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_node_label</span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>filter <span class="op">=</span> <span class="va">oa_input</span>, label <span class="op">=</span> <span class="va">id</span><span class="op">)</span>, nudge_y <span class="op">=</span> <span class="fl">0.2</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_edge_width</span><span class="op">(</span>range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">1.5</span><span class="op">)</span>, guide <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_size.html" class="external-link">scale_size</a></span><span class="op">(</span>range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">10</span><span class="op">)</span>, guide <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#a3ad62"</span>, <span class="st">"#d46780"</span><span class="op">)</span>, na.value <span class="op">=</span> <span class="st">"grey"</span>, name <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_graph</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"transparent"</span>, colour <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    panel.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"transparent"</span>, colour <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"bottom"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-snowballing-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="ear_of_rice-n-grams">üåæ N-grams<a class="anchor" aria-label="anchor" href="#ear_of_rice-n-grams"></a>
</h2>
<p><strong>Update 2024-09-15</strong>: The n-gram API endpoint is <a href="https://docs.openalex.org/api-entities/works/get-n-grams#api-endpoint" class="external-link">not currently in service</a>. The following code chunk is not evaluated.</p>
<p>OpenAlex offers (limited) support for <a href="https://docs.openalex.org/api-entities/works/get-n-grams#fulltext-coverage" class="external-link">fulltext N-grams</a> of Work entities (these have IDs starting with <code>"W"</code>). Given a vector of work IDs, <code>oa_ngrams</code> returns a dataframe of N-gram data (in the <code>ngrams</code> list-column) for each work.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ngrams_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oa_ngrams.html">oa_ngrams</a></span><span class="op">(</span></span>
<span>  works_identifier <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"W1964141474"</span>, <span class="st">"W1963991285"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">ngrams_data</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">ngrams_data</span><span class="op">$</span><span class="va">ngrams</span>, <span class="va">head</span>, <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ngrams_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">ngrams</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ngram_tokens</span> <span class="op">==</span> <span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">ngram</span>, <span class="va">ngram_count</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span><span class="va">ngram_count</span>, n <span class="op">=</span> <span class="fl">10</span>, with_ties <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">ngram_count</span>, <span class="fu">forcats</span><span class="fu">::</span><span class="fu">fct_reorder</span><span class="op">(</span><span class="va">ngram</span>, <span class="va">ngram_count</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">id</span><span class="op">)</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">id</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Top 10 fulltext bigrams"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Count"</span>,</span>
<span>    y <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><code>oa_ngrams</code> can sometimes be slow because the N-grams data can get pretty big, but given that the N-grams are <code>"cached via CDN"</code>](<a href="https://docs.openalex.org/api-entities/works/get-n-grams#api-endpoint" class="external-link uri">https://docs.openalex.org/api-entities/works/get-n-grams#api-endpoint</a>), you may also consider parallelizing for this special case (<code>oa_ngrams</code> does this automatically if you have <code>{curl} &gt;= v5.0.0</code>).</p>
</div>
<div class="section level2">
<h2 id="dizzy-about-openalex">üí´ About OpenAlex<a class="anchor" aria-label="anchor" href="#dizzy-about-openalex"></a>
</h2>
<figure><img src="reference/figures/oar.png" alt="oar-img"><figcaption aria-hidden="true">
oar-img
</figcaption></figure><div style="text-align: right">
<p>Schema credits: <a href="https://github.com/dhimmel" class="external-link">@dhimmel</a></p>
</div>
<p><a href="https://openalex.org" class="external-link">OpenAlex</a> is a fully open catalog of the global research system. It‚Äôs named after the ancient <a href="https://en.wikipedia.org/wiki/Library_of_Alexandria" class="external-link">Library of Alexandria</a>. The OpenAlex dataset describes scholarly entities and how those entities are connected to each other. There are five types of entities:</p>
<ul>
<li><p><strong>Works</strong> are papers, books, datasets, etc; they cite other works</p></li>
<li><p><strong>Authors</strong> are people who create works</p></li>
<li><p><strong>Sources</strong> are journals and repositories that host works</p></li>
<li><p><strong>Institutions</strong> are universities and other orgs that are affiliated with works (via authors)</p></li>
<li><p><strong>Concepts</strong> <em>tag</em> Works with a topic</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="handshake-code-of-conduct">ü§ù Code of Conduct<a class="anchor" aria-label="anchor" href="#handshake-code-of-conduct"></a>
</h2>
<p>Please note that this package is released with a <a href="https://ropensci.org/code-of-conduct/" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="eyeglasses-acknowledgements">üëì Acknowledgements<a class="anchor" aria-label="anchor" href="#eyeglasses-acknowledgements"></a>
</h2>
<p>Package hex was made with <a href="https://www.midjourney.com/home/" class="external-link">Midjourney</a> and thus inherits a <a href="https://creativecommons.org/licenses/by-nc/4.0/legalcode" class="external-link">CC BY-NC 4.0 license</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=openalexR" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/openalexR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/openalexR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing openalexR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Massimo Aria <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-8517-9411" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Trang Le <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-3737-6565" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>June Choe <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-0701-921X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/openalexR" class="external-link"><img src="https://ropensci.r-universe.dev/badges/openalexR" alt="openalexR status badge"></a></p></li>
</ul>
</div>

<div class="software-peer-review">
<h2 data-toc-skip>Software Peer-Review</h2>
<ul class="list-unstyled">
<li><p><a href="https://github.com/ropensci/software-review/issues/560" class="external-link"><img src="https://badges.ropensci.org/560_status.svg" alt="rOpenSci peer-review"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
